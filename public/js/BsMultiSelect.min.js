/*!
  * DashboardCode BsMultiSelect v0.4.3-beta (https://dashboardcode.github.io/BsMultiSelect/)
  * Copyright 2017-2019 Roman Pokrovskij (github user rpokrovskij)
  * Licensed under APACHE 2 (https://github.com/DashboardCode/BsMultiSelect/blob/master/LICENSE)
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js"],t):t((e=e||self).jQuery,e.Popper)}(this,function(e,d){"use strict";function f(e){e.parentNode.removeChild(e)}e=e&&e.hasOwnProperty("default")?e.default:e,d=d&&d.hasOwnProperty("default")?d.default:d;var I=function(){function e(e,t,n,i,s,l,o,a,r){if("undefined"==typeof d)throw new TypeError("DashboardCode BsMultiSelect require Popper.js (https://popper.js.org)");this.optionsAdapter=e,this.container=e.container,this.styling=t,this.selectedItemContent=n,this.dropDownItemContent=i,this.labelAdapter=s,this.createStylingComposite=l,this.configuration=o,this.onDispose=a,this.window=r,this.document=r.document,this.popper=null,this.visibleCount=10,this.selectedPanel=null,this.filterInputItem=null,this.filterInput=null,this.dropDownMenu=null,this.stylingComposite=null,this.selectedPanelClick=null,this.documentMouseup=null,this.containerMousedown=null,this.documentMouseup2=null,this.isComponentDisabled=null,this.filterInputItemOffsetLeft=null,this.resetMultiSelectDataList(),this.skipFocusout=!1,this.hoveredMultiSelectData=null,this.hoveredMultiSelectDataIndex=null}var t=e.prototype;return t.resetMultiSelectDataList=function(){this.MultiSelectDataList=[],this.MultiSelectDataSelectedTail=null,this.visibleMultiSelectDataList=null},t.getVisibleMultiSelectDataList=function(){return this.visibleMultiSelectDataList?this.visibleMultiSelectDataList:this.MultiSelectDataList},t.updateDropDownPosition=function(e){var t=this.filterInputItem.offsetLeft;!e&&this.filterInputItemOffsetLeft==t||(this.popper.update(),this.filterInputItemOffsetLeft=t)},t.hideDropDown=function(){this.dropDownMenu.style.display="none",this.container.removeEventListener("mousedown",this.containerMousedown),this.document.removeEventListener("mouseup",this.documentMouseup),this.document.removeEventListener("mouseup",this.documentMouseup2)},t.showDropDown=function(){this.dropDownMenu.style.display="block",this.container.addEventListener("mousedown",this.containerMousedown),this.document.addEventListener("mouseup",this.documentMouseup),this.document.addEventListener("mouseup",this.documentMouseup2)},t.resetDropDownMenuHover=function(){null!==this.hoveredMultiSelectData&&(this.styling.HoverOut(this.hoveredMultiSelectData.dropDownMenuItemElement),this.hoveredMultiSelectData=null,this.hoveredMultiSelectDataIndex=null)},t.filterMultiSelectData=function(e,t){e.visible=t,e.dropDownMenuItemElement.style.display=t?"block":"none"},t.resetFilterDropDownMenu=function(){for(var e=0;e<this.MultiSelectDataList.length;e++){var t=this.MultiSelectDataList[e];null!=t.dropDownMenuItemElement&&this.filterMultiSelectData(t,!0)}this.visibleMultiSelectDataList=null},t.filterDropDownMenu=function(e){this.visibleMultiSelectDataList=[];for(var t=0;t<this.MultiSelectDataList.length;t++){var n=this.MultiSelectDataList[t];n.excludedFromSearch||n.searchText.indexOf(e)<0?this.filterMultiSelectData(n,!1):(this.filterMultiSelectData(n,!0),this.visibleMultiSelectDataList.push(n))}},t.clearFilterInput=function(){this.filterInput.value&&(this.filterInput.value="",this.processInput())},t.closeDropDown=function(){this.resetDropDownMenuHover(),this.clearFilterInput(),this.hideDropDown()},t.removeSelectedFromList=function(e){e.selectedPrev&&(e.selectedPrev.selectedNext=e.selectedNext),e.selectedNext&&(e.selectedNext.selectedPrev=e.selectedPrev),this.MultiSelectDataSelectedTail==e&&(this.MultiSelectDataSelectedTail=e.selectedPrev),e.selectedNext=null,e.selectedPrev=null},t.appendDropDownItem=function(r,e,d){var u=this,t=this.document.createElement("LI");this.dropDownMenu.appendChild(t);var c=this.dropDownItemContent(t,r.option);r.dropDownMenuItemElement=t,r.dropDownItemContent=c,e&&d?c.disabledStyle(!0):d&&c.disable(d),c.onSelected(function(){r.toggle(),u.filterInput.focus()});function p(e){u.preventDefaultMultiSelectEvent=e}function h(e,t,n,i){r.excludedFromSearch=e||d,r.option.selected=e,c.select(e),r.toggle=t,r.remove=n,r.disable=i}function n(e,t,n,i){function s(){c.disabledStyle(!1),c.disable(d),h(!1,function(){d||t(!0)},null,null),f(e),u.removeSelectedFromList(r),u.optionsAdapter.triggerChange()}function l(){s(),u.closeDropDown()}function o(e){a.disable(e)}r.selectedItemElement=e,u.MultiSelectDataSelectedTail&&((u.MultiSelectDataSelectedTail.selectedNext=r).selectedPrev=u.MultiSelectDataSelectedTail),u.MultiSelectDataSelectedTail=r;var a=u.selectedItemContent(e,r.option,function(){setTimeout(function(){l()},0)},p);o(n),h(!0,s,l,o),u.selectedPanel.insertBefore(e,u.filterInputItem),i&&u.optionsAdapter.triggerChange()}function i(e){var t=u.document.createElement("LI");n(t,i,u.isComponentDisabled,e)}t.addEventListener("mouseover",function(){return u.styling.HoverIn(t)}),t.addEventListener("mouseout",function(){return u.styling.HoverOut(t)}),e?i(!1):r.toggle=function(){d||i(!0)},r.removeDropDownMenuItemElement=function(){f(t),null!=r.selectedItemElement&&f(r.selectedItemElement)}},t.hoverInInternal=function(e){this.visibleIndex=0,this.hoveredMultiSelectDataIndex=e,this.hoveredMultiSelectData=this.getVisibleMultiSelectDataList()[e],this.styling.HoverIn(this.hoveredMultiSelectData.dropDownMenuItemElement)},t.keydownArrow=function(e){var t=this.getVisibleMultiSelectDataList();if(0<t.length){var n;if(0<t.length&&(this.updateDropDownPosition(!0),this.showDropDown()),null===this.hoveredMultiSelectData)n=e?0:t.length-1;else if(this.styling.HoverOut(this.hoveredMultiSelectData.dropDownMenuItemElement),e){var i=this.hoveredMultiSelectDataIndex+1;n=i<t.length?i:0}else{var s=this.hoveredMultiSelectDataIndex-1;n=0<=s?s:t.length-1}this.hoverInInternal(n)}},t.processInput=function(){var e=this.filterInput,t=e.value;e.style.width=1.3*t.length+2+"ch";var n=t.trim().toLowerCase();""==n?this.resetFilterDropDownMenu():this.filterDropDownMenu(n),this.resetDropDownMenuHover(),1==this.getVisibleMultiSelectDataList().length&&this.hoverInInternal(0),0<this.getVisibleMultiSelectDataList().length?(this.updateDropDownPosition(!0),this.showDropDown()):this.hideDropDown()},t.Update=function(){this.styling.UpdateIsValid(this.stylingComposite,this.optionsAdapter.getIsValid(),this.optionsAdapter.getIsInvalid()),this.UpdateSize(),this.UpdateDisabled()},t.UpdateOption=function(e){this.MultiSelectDataList[e].updateOption()},t.UpdateData=function(){this.closeDropDown();for(var e=0;e<this.MultiSelectDataList.length;e++){var t=this.MultiSelectDataList[e];t.removeDropDownMenuItemElement&&t.removeDropDownMenuItemElement()}this.resetMultiSelectDataList(),this.updateDataImpl()},t.updateDataImpl=function(){function t(){for(var e=a.optionsAdapter.getOptions(),t=0;t<e.length;t++){var n=e[t],i=n.disabled,s=n.hidden,l=n.selected,o={searchText:n.text.toLowerCase().trim(),excludedFromSearch:l||i||s,option:n,dropDownMenuItemElement:null,dropDownItemContent:null,selectedPrev:null,selectedNext:null,visible:!0,toggle:null,selectedItemElement:null,remove:null,disable:null,removeDropDownMenuItemElement:null};a.MultiSelectDataList.push(o),n.isHidden||a.appendDropDownItem(o,l,i)}a.updateDropDownPosition(!1)}var a=this;if("loading"!=document.readyState)t();else{document.addEventListener("DOMContentLoaded",function e(){t(),document.removeEventListener("DOMContentLoaded",e)})}},t.Dispose=function(){this.onDispose&&this.onDispose(),this.hideDropDown(),this.selectedPanel.removeEventListener("click",this.selectedPanelClick),this.labelAdapter.dispose(),this.popper&&this.popper.destroy(),this.optionsAdapter.dispose&&this.optionsAdapter.dispose()},t.UpdateSize=function(){this.styling.UpdateSize&&this.styling.UpdateSize(this.stylingComposite)},t.UpdateDisabled=function(){function e(e){for(var t=n.MultiSelectDataSelectedTail;t;)t.disable(e),t=t.selectedPrev}var n=this,t=this.optionsAdapter.getDisabled();this.isComponentDisabled!==t&&(t?(this.filterInput.style.display="none",this.styling.Disable(this.stylingComposite),e(!0),this.selectedPanel.removeEventListener("click",this.selectedPanelClick)):(this.filterInput.style.display="inline-block",this.styling.Enable(this.stylingComposite),e(!1),this.selectedPanel.addEventListener("click",this.selectedPanelClick)),this.isComponentDisabled=t)},t.init=function(){var s=this,e=this.document,t=this.optionsAdapter.container;this.selectedPanel=e.createElement("UL"),function(e){e.display="flex",e.flexWrap="wrap",e.listStyleType="none"}(this.selectedPanel.style),t.appendChild(this.selectedPanel),this.filterInputItem=e.createElement("LI"),this.selectedPanel.appendChild(this.filterInputItem),this.filterInput=e.createElement("INPUT"),this.filterInput.setAttribute("type","search"),this.filterInput.setAttribute("autocomplete","off"),function(e){e.width="2ch",e.border="0",e.padding="0",e.outline="none",e.backgroundColor="transparent"}(this.filterInput.style),this.filterInputItem.appendChild(this.filterInput),this.dropDownMenu=e.createElement("UL"),this.dropDownMenu.style.display="none",t.appendChild(this.dropDownMenu),function(e){e.listStyleType="none"}(this.dropDownMenu.style),this.containerMousedown=function(){s.skipFocusout=!0,s.skipContainerMousedownEvent=event},this.documentMouseup=function(){s.skipFocusout=!1},this.documentMouseup2=function(e){t===e.target||t.contains(e.target)||s.closeDropDown()},this.selectedPanelClick=function(e){e.target!=s.filterInput&&(s.filterInput.value="",s.filterInput.focus()),0<s.getVisibleMultiSelectDataList().length&&s.preventDefaultMultiSelectEvent!=e&&(s.updateDropDownPosition(!0),s.showDropDown()),s.preventDefaultMultiSelectEvent=null},this.stylingComposite=this.createStylingComposite(t,this.selectedPanel,this.filterInputItem,this.filterInput,this.dropDownMenu),this.styling.Init(this.stylingComposite),this.labelAdapter.init(this.filterInput),this.optionsAdapter.afterContainerFilled&&this.optionsAdapter.afterContainerFilled(),this.popper=new d(this.filterInput,this.dropDownMenu,{placement:"bottom-start",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1}}}),this.styling.UpdateIsValid(this.stylingComposite,this.optionsAdapter.getIsValid(),this.optionsAdapter.getIsInvalid()),this.UpdateSize(),this.UpdateDisabled(),this.dropDownMenu.addEventListener("mouseover",function(){return s.resetDropDownMenuHover()}),this.filterInput.addEventListener("focusin",function(){return s.styling.FocusIn(s.stylingComposite)}),this.filterInput.addEventListener("focusout",function(){s.skipFocusout||s.styling.FocusOut(s.stylingComposite)}),this.filterInput.addEventListener("keydown",function(e){(0<=[38,40,13].indexOf(e.which)||9==e.which&&s.filterInput.value)&&e.preventDefault(),38==e.which?s.keydownArrow(!1):40==e.which?(null===s.hoveredMultiSelectData&&0<s.getVisibleMultiSelectDataList().length&&s.showDropDown(),s.keydownArrow(!0)):9==e.which?s.filterInput.value||s.closeDropDown():8==e.which&&(s.filterInput.value||(s.MultiSelectDataSelectedTail&&s.MultiSelectDataSelectedTail.remove(),s.updateDropDownPosition(!1))),-1==[38,40,13,9].indexOf(e.which)&&s.resetDropDownMenuHover()}),this.filterInput.addEventListener("keyup",function(e){if(13==e.which||9==e.which)s.hoveredMultiSelectData&&(s.hoveredMultiSelectData.toggle(),s.closeDropDown());else if(27==e.which)s.closeDropDown();else{var t=s.filterInput.value.trim().toLowerCase(),n=s.getVisibleMultiSelectDataList();if(t&&1==n.length){var i=n[0];i.searchText==t&&(i.toggle(),s.clearFilterInput())}}}),this.filterInput.addEventListener("input",function(){s.processInput()}),this.updateDataImpl()},e}();function g(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n])}var C={selectedPanelFocusClass:"focus",selectedPanelDisabledClass:"disabled",dropDownItemDisabledClass:"disabled"};var b={"margin-bottom":"0",height:"auto"},w={selectedPanelDefMinHeight:"calc(2.25rem + 2px)",selectedPanelLgMinHeight:"calc(2.875rem + 2px)",selectedPanelSmMinHeight:"calc(1.8125rem + 2px)",selectedPanelDisabledBackgroundColor:"#e9ecef",selectedPanelFocusBorderColor:"#80bdff",selectedPanelFocusBoxShadow:"0 0 0 0.2rem rgba(0, 123, 255, 0.25)",selectedPanelFocusValidBoxShadow:"0 0 0 0.2rem rgba(40, 167, 69, 0.25)",selectedPanelFocusInvalidBoxShadow:"0 0 0 0.2rem rgba(220, 53, 69, 0.25)",filterInputColor:"#495057"};var M={containerClass:"dashboardcode-bsmultiselect",dropDownMenuClass:"dropdown-menu",dropDownItemClass:"px-2",dropDownItemHoverClass:"text-primary bg-light",selectedPanelClass:"form-control",selectedItemClass:"badge",removeSelectedItemButtonClass:"close",filterInputItemClass:"",filterInputClass:""};var S={selectedItemContentDisabledClass:"disabled"};var y={"padding-left":"0px","line-height":"1.5em"},P={"font-size":"1.5em","line-height":".9em"},L={selectedItemContentDisabledOpacity:".65"};var E={selectedItemClass:"badge",removeSelectedItemButtonClass:"close"};var x={selectedItemContentDisabledClass:"disabled"};var F={selectedItemContentDisabledOpacity:".65",dropdDownLabelDisabledColor:"#6c757d"};var O,k,A={dropDownItemClass:"px-2"};O=window,function(e,l,o){var t=e.charAt(0),n=t.toLowerCase();if(n==t)throw new TypeError("Plugin name '"+e+"' should be started from upper case char");var i=n+e.slice(1),s=o.fn[i],a="DashboardCode."+e;function r(s){return this.each(function(){var e=o(this),t=e.data(a),n="string"==typeof s;if(!t){if(n&&/Dispose/.test(s))return;t=l(this,"object"==typeof s?s:null,function(){e.removeData(a)}),e.data(a,t)}if(n){var i=s;if("undefined"==typeof t[i])throw new TypeError("No method named '"+i+"'");t[i]()}})}o.fn[i]=r,o.fn[e]=function(){return o(this).data(a)},o.fn[i].noConflict=function(){return o.fn[i]=s,r}}("BsMultiSelect",function(e,t,n){var i=k.extend({},t);i.preBuildConfiguration&&i.preBuildConfiguration(e,i);var s=k(e),l=null;if(i.optionsAdapter)l=i.optionsAdapter;else{var o=function(e){s.trigger(e)};if(i.options)l=function(e,t,n,i,s,l){return{container:e,getOptions:function(){return t},dispose:function(){for(;e.firstChild;)e.removeChild(e.firstChild)},triggerChange:function(){l("multiselect:change")},getDisabled:function(){return!!n&&n()},getIsValid:function(){return!!i&&i()},getIsInvalid:function(){return!!s&&s()}}}(e,i.options,i.getDisabled,i.getIsValid,i.getIsInvalid,o),i.createInputId||(i.createInputId=function(){return i.containerClass+"-generated-filter-"+e.id});else{if(!i.label){var a=k(e).closest(".form-group");if(1==a.length){var r=a.find('label[for="'+e.id+'"]');if(0<r.length){var d=r.get(0);d.getAttribute("for")==e.id&&(i.label=d)}}}l=function(e,t){e.style.display="none";var n=document.createElement("div");return{container:n,getOptions:function(){return e.getElementsByTagName("OPTION")},dispose:function(){n.parentNode.removeChild(n)},afterContainerFilled:function(){e.parentNode.insertBefore(n,e.nextSibling)},triggerChange:function(){t("change"),t("multiselect:change")},getDisabled:function(){return e.disabled},getIsValid:function(){return e.classList.contains("is-valid")},getIsInvalid:function(){return e.classList.contains("is-invalid")}}}(e,o),i.createInputId||(i.createInputId=function(){return i.containerClass+"-generated-input-"+(e.id?e.id:e.name).toLowerCase()+"-id"})}}var u=function(n,i){var s=null;return{init:function(e){if(n){s=n.getAttribute("for");var t=i();e.setAttribute("id",t),n.setAttribute("for",t)}},dispose:function(){s&&n.setAttribute("for",s)}}}(i.label,i.createInputId),c=i.useCss,p=i.styling;if(!i.adapter){var h=i.stylingMethod;p=function(t,n,i){return g(n,M),{Init:function(e){e.$container.addClass(n.containerClass),e.$selectedPanel.addClass(n.selectedPanelClass),e.$dropDownMenu.addClass(n.dropDownMenuClass),e.$filterInputItem.addClass(n.filterInputItemClass),e.$filterInput.addClass(n.filterInputClass),t.OnInit&&t.OnInit(e)},UpdateIsValid:function(e,t,n){t&&e.$selectedPanel.addClass("is-valid"),n&&e.$selectedPanel.addClass("is-invalid")},UpdateSize:function(e){t.UpdateSize&&t.UpdateSize(e.$selectedPanel)},Enable:function(e){t.Enable(e.$selectedPanel)},Disable:function(e){t.Disable(e.$selectedPanel)},FocusIn:function(e){t.FocusIn(e.$selectedPanel)},FocusOut:function(e){t.FocusOut(e.$selectedPanel)},HoverIn:function(e){i(e).addClass(n.dropDownItemHoverClass)},HoverOut:function(e){i(e).removeClass(n.dropDownItemHoverClass)}}}(h=h||(c?function(t){return g(t,C),{Enable:function(e){e.removeClass(t.selectedPanelDisabledClass)},Disable:function(e){e.addClass(t.selectedPanelDisabledClass)},FocusIn:function(e){e.addClass(t.selectedPanelFocusClass)},FocusOut:function(e){e.removeClass(t.selectedPanelFocusClass)}}}(i):function(t){return g(t,w),{OnInit:function(e){e.$selectedPanel.css(b),e.$filterInput.css("color",t.filterInputColor)},UpdateSize:function(e){e.hasClass("form-control-lg")?e.css("min-height",t.selectedPanelLgMinHeight):e.hasClass("form-control-sm")?e.css("min-height",t.selectedPanelSmMinHeight):e.css("min-height",t.selectedPanelDefMinHeight)},Enable:function(e){e.css("background-color","")},Disable:function(e){e.css("background-color",t.selectedPanelDisabledBackgroundColor)},FocusIn:function(e){e.hasClass("is-valid")?e.css("box-shadow",t.selectedPanelFocusValidBoxShadow):e.hasClass("is-invalid")?e.css("box-shadow",t.selectedPanelFocusInvalidBoxShadow):e.css("box-shadow",t.selectedPanelFocusBoxShadow).css("border-color",t.selectedPanelFocusBorderColor)},FocusOut:function(e){e.css("box-shadow","").css("border-color","")}}}(i)),i,k)}var f=i.selectedItemContent;if(!f){var D=i.selectedItemContentStylingMethod;f=function(a,r,d){return g(r,E),function(e,t,n,i){var s=d(e);s.addClass(r.selectedItemClass);var l=d("<span/>").text(t.text);l.appendTo(s),t.disabled&&a.disableSelectedItemContent(l);var o=d('<button aria-label="Close" tabIndex="-1" type="button"><span aria-hidden="true">&times;</span></button>').css("float","none").appendTo(s).addClass(r.removeSelectedItemButtonClass).on("click",function(e){n(),i(e.originalEvent)});return a.createSelectedItemContent&&a.createSelectedItemContent(s,o),{disable:function(e){o.prop("disabled",e)}}}}(D=D||(c?function(t){return g(t,S),{disableSelectedItemContent:function(e){e.addClass(t.selectedItemContentDisabledClass)}}}(i):function(t){return g(t,L),{disableSelectedItemContent:function(e){e.css("opacity",t.selectedItemContentDisabledOpacity)},createSelectedItemContent:function(e,t){e.css(y),t&&t.css(P)}}}(i)),i,k)}var m=i.bs4DropDownItemContent;if(!m){i.dropDownItemContentStylingMethod;m=function(o,a,r){return g(a,A),function(n,e){var i=r(n);i.addClass(a.dropDownItemClass);var t=r('<div class="custom-control custom-checkbox">\n            <input type="checkbox" class="custom-control-input">\n            <label class="custom-control-label"></label>\n        </div>');t.appendTo(n);var s=t.find('INPUT[type="checkbox"]'),l=t.find("label");return l.text(e.text),{select:function(e){s.prop("checked",e)},disable:function(e){s.prop("disabled",e)},disabledStyle:function(e){o.disabledStyle(s,l,e)},onSelected:function(t){s.on("change",t),i.on("click",function(e){n!==e.target&&!r.contains(n,e.target)||t()})}}}}(c?function(i){return g(i,x),{disabledStyle:function(e,t,n){n?e.addClass(i.dropDownItemDisabledClass):e.removeClass(i.dropDownItemDisabledClass)}}}(i):function(i){return g(i,F),{disabledStyle:function(e,t,n){t.css("color",n?i.dropdDownLabelDisabledColor:"")}}}(i),i,k)}var v=new I(l,p,f,m,u,function(e,t,n,i,s){return{$container:k(e),$selectedPanel:k(t),$filterInputItem:k(n),$filterInput:k(i),$dropDownMenu:k(s)}},i,n,O);return i.postBuildConfiguration&&i.postBuildConfiguration(e,v),v.init(),v},k=e)});
//# sourceMappingURL=BsMultiSelect.min.js.map